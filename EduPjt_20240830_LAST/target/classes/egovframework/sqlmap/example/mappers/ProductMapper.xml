<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="sample.mapper.ProductMapper">
	
	<select id="readCategory" resultType="java.util.HashMap">
		SELECT CATE_CODE, CATE_NAME
			FROM CATEGORY
	</select>
	
	<select id="readProduct" resultType="java.util.HashMap">
		SELECT PRODUCT_CODE, PRODUCT_NAME, PRODUCT_STOCK, PRODUCT_PRICE, PRODUCT_CONTENT, PRODUCT_SALE_RATE
				, P.CATE_CODE, C.CATE_NAME
				FROM PRODUCT P 
					INNER JOIN CATEGORY C
					ON P.CATE_CODE = C.CATE_CODE 
	</select>
	
	<select id="getProduct" parameterType="java.util.Map" resultType="java.util.HashMap">
		SELECT PRODUCT_CODE, PRODUCT_NAME, PRODUCT_STOCK, PRODUCT_PRICE, PRODUCT_CONTENT, PRODUCT_SALE_RATE
				, P.CATE_CODE, C.CATE_NAME
				FROM PRODUCT P 
					INNER JOIN CATEGORY C
					ON P.CATE_CODE = C.CATE_CODE 
				WHERE PRODUCT_CODE = #{PRODUCT_CODE}
	</select>
	
	<update id="saveProduct" parameterType="java.util.Map">
		UPDATE PRODUCT
			SET PRODUCT_NAME = #{PRODUCT_NAME}
				, PRODUCT_PRICE = #{PRODUCT_PRICE}
				, PRODUCT_STOCK = #{PRODUCT_STOCK}
				, PRODUCT_CONTENT = #{PRODUCT_CONTENT}
			WHERE PRODUCT_CODE = #{PRODUCT_CODE}
	</update>
	
</mapper>